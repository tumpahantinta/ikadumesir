<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="IKADU Mesir adalah organisasi alumni Pondok Pesantren Daarul Ukhuwwah di Mesir."
    />

    <meta http-equiv="X-UA-compatible" content="ie=edge" />
    <title>IKADU MESIR - Ikatan Keluarga Daarul Ukhuwwah Mesir</title>
    <!-- bootstrap -->
    <link rel="stylesheet" href="assets/data/css/bootstrap.min.css" />
    <!-- owl carousel -->
    <link rel="stylesheet" href="assets/data/css/owl.carousel.min.css" />
    <!-- font awesome icon -->
    <link rel="stylesheet" href="assets/data/fontawesome/css/all.min.css" />
    <!-- style css custom -->
    <link rel="stylesheet" href="assets/data/css/style.css" />
  </head>

  <body>
    <div id="topbar">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <ul class="top-contact">
              <li>
                <a href="https://wa.me/6281231293736" target="_blank">
                  <i class="fab fa-whatsapp"></i> +62 812-3129-3736
                </a>
              </li>
              <li>
                <a href="mailto:ikadumesir@gmail.com">
                  <i class="fas fa-envelope"></i> ikadumesir@gmail.com
                </a>
              </li>
              <li>
                <a href="#">
                  <i class="fas fa-bullhorn"></i> Ikatan Keluarga Daarul
                  Ukhuwwah Mesir
                </a>
              </li>
            </ul>
          </div>

          <div class="col-md-3">
            <ul class="sosmed">
              <li>
                <a href="https://www.facebook.com/ikadumesir" target="_blank">
                  <i class="fab fa-facebook-f"></i>
                </a>
              </li>
              <li>
                <a href="https://www.instagram.com/ikadumesir" target="_blank">
                  <i class="fab fa-instagram"></i>
                </a>
              </li>
              <li>
                <a
                  href="http://www.youtube.com/@ikadumesir4731"
                  target="_blank"
                >
                  <i class="fab fa-youtube"></i>
                </a>
              </li>
              <li>
                <a href="https://wa.me/6281231293736" target="_blank">
                  <i class="fab fa-whatsapp"></i>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <header>
      <div class="container">
        <div class="row">
          <div class="col-md-8">
            <div class="brand">
              <img src="assets/img/logo.png" alt="Logo IKADU Mesir" />
              <div class="brand-name">
                <h1>IKADU MESIR</h1>
                <h3>Ikatan Keluarga Daarul Ukhuwwah Mesir</h3>
              </div>
            </div>
          </div>
          <div class="col-md-4 pembungkus-searchbox">
            <div class="searchbox">
              <form method="get">
                <div class="input-group">
                  <input
                    class="form-control"
                    type="text"
                    name="Cari"
                    placeholder="Cari sesuatu..."
                    aria-label="Tombol Cari"
                    aria-describedby="tombol-cari"
                  />
                  <div class="input-group-append">
                    <button class="btn btn-utama" id="tombol-cari">Cari</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <!--.col-md-8-->
        </div>
        <!--.row-->
      </div>
      <!--.container-->
    </header>

    <!-- Section menu -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-hijau">
      <div class="container">
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#my-nav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div id="my-nav" class="collapse navbar-collapse">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="index.html"
                >BERANDA<span class="sr-only">(current)</span></a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="profile.html">PROFIL</a>
            </li>
            <li class="dropdown">
              <a
                href="#"
                class="nav-link dropdown-toggle"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                >STRUKTURAL</a
              >
              <div class="dropdown-menu">
                <a class="dropdown-item" href="struktur.html">Struktur</a>
                <a class="dropdown-item" href="kepenulisan.html"
                  >Tim Kepenulisan</a
                >
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="berita.html">BERITA</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="data.html">STATISTIK DATA</a>
            </li>
            <li class="dropdown">
              <a
                href="#"
                class="nav-link dropdown-toggle"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                >KARYA TULIS</a
              >
              <div class="dropdown-menu">
                <a class="dropdown-item" href="esai.html">Esai</a>
                <a class="dropdown-item" href="opini.html">Opini</a>
                <a class="dropdown-item" href="buku.html">Buku</a>
                <a class="dropdown-item" href="biografi.html">Biografi</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="foto.html">GALERI</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#footer">KONTAK</a>
            </li>
          </ul>
        </div>
      </div>
      <!--.container-->
    </nav>

    <section id="data-anggota">
      <div class="container">
        <h2>Data Anggota IKADU</h2>

        <!-- Tabel Data Anggota -->
        <table id="anggotaTable" border="1">
          <thead>
            <tr>
              <th>No</th>
              <th>Nama</th>
              <th>Kekeluargaan</th>
              <th>Jenis Kelamin</th>
              <th>Keanggotaan</th>
              <!-- Menampilkan status anggota -->
            </tr>
          </thead>
          <tbody></tbody>
        </table>

        <!-- Diagram Lingkaran -->
        <style>
          #genderChart {
            max-width: 300px;
            max-height: 300px;
            margin: auto;
            display: block;
          }
        </style>

        <canvas id="genderChart"></canvas>
      </div>
    </section>

    <!-- Tambahkan CDN Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
      const API_URL =
        "https://script.google.com/macros/s/AKfycbzg744BrzZSuosqOsxrBenJ0Fg62_yGXh5M9aao2B-98gPvrNLkKZsuwBQD_QAxwBUo/exec"; // Masukkan link GAS di sini

      async function loadAnggota() {
        try {
          const response = await fetch(API_URL);
          const data = await response.json();

          const anggotaTable = document.querySelector("#anggotaTable tbody");
          anggotaTable.innerHTML = "";

          let jumlahLaki = 0;
          let jumlahPerempuan = 0;

          data.forEach((item, index) => {
            anggotaTable.innerHTML += `
              <tr>
                <td>${index + 1}</td>
                <td>${item.nama || "Tidak Ada"}</td>
                <td>${item.kekeluargaan || "Tidak Ada"}</td>
                <td>${item.jenis_kelamin || "Tidak Ada"}</td>
                <td>${
                  item.keanggotaan || "Tidak Ada"
                }</td> <!-- Tambahkan Keanggotaan -->
              </tr>
            `;

            // Hitung jumlah laki-laki dan perempuan untuk chart
            if (item.jenis_kelamin?.toLowerCase() === "laki-laki") {
              jumlahLaki++;
            } else if (item.jenis_kelamin?.toLowerCase() === "perempuan") {
              jumlahPerempuan++;
            }
          });

          updateChart(jumlahLaki, jumlahPerempuan);
        } catch (error) {
          console.error("Gagal mengambil data:", error);
          alert(
            "Gagal mengambil data, pastikan link GAS benar dan bisa diakses."
          );
        }
      }

      function updateChart(laki, perempuan) {
        const ctx = document.getElementById("genderChart").getContext("2d");

        new Chart(ctx, {
          type: "pie",
          data: {
            labels: ["Laki-laki", "Perempuan"],
            datasets: [
              {
                data: [laki, perempuan],
                backgroundColor: ["#3498db", "#e74c3c"],
              },
            ],
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                position: "bottom",
              },
            },
          },
        });
      }

      document.addEventListener("DOMContentLoaded", loadAnggota);
    </script>

    <footer id="footer">
      <div class="container">
        <div class="footer-grid">
          <!-- Kolom 1: Brand & Tentang -->
          <div class="footer-col">
            <div class="brand">
              <img src="assets/img/logo.png" alt="IKADU MESIR Logo" />
              <h1>IKADU MESIR</h1>
            </div>
            <p class="tentang">Ikatan Keluarga Daarul Ukhuwwah Mesir.</p>
            <ul class="footer-social">
              <li>
                <a href="https://www.facebook.com/ikadumesir" target="_blank">
                  <i class="fab fa-facebook-f"></i>
                </a>
              </li>
              <li>
                <a href="https://www.instagram.com/ikadumesir" target="_blank">
                  <i class="fab fa-instagram"></i>
                </a>
              </li>
              <li>
                <a
                  href="http://www.youtube.com/@ikadumesir4731"
                  target="_blank"
                >
                  <i class="fab fa-youtube"></i>
                </a>
              </li>
              <li>
                <a href="https://wa.me/6281231293736" target="_blank">
                  <i class="fab fa-whatsapp"></i>
                </a>
              </li>
            </ul>
          </div>

          <!-- Kolom 2: Kontak -->
          <div class="footer-col">
            <h2>Kontak Kami</h2>
            <p class="alamat">
              <a
                href="https://maps.app.goo.gl/fvoRLo4pctghQ4G19"
                target="_blank"
              >
                Sekretariat IKADU Mesir : Ahmad elZomor street, building 21,
                flat 3, Dist 9, Nasr City, Cairo
              </a>
            </p>
            <ul class="footer-contact">
              <li>
                <i class="fas fa-phone"></i>
                <a href="https://wa.me/6281231293736" target="_blank">
                  Telp: +62 812-3129-3736
                </a>
              </li>
              <li>
                <i class="fas fa-envelope"></i>
                <a href="mailto:ikadumesir@gmail.com">
                  Email: ikadumesir@gmail.com
                </a>
              </li>
            </ul>
          </div>

          <!-- Kolom 3: Navigasi -->
          <div class="footer-col">
            <h2>Navigasi</h2>
            <ul class="footer-nav">
              <li><a href="index.html">Profil</a></li>
              <li><a href="index.html#wattpad-style">Karya Tulis</a></li>
              <li><a href="struktur.html">Struktur</a></li>
              <li><a href="berita.html">Berita</a></li>
              <li><a href="dokumentasi.html">Galeri</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    <div class="copyright">
      <p>&copy; 2025 IKADU MESIR. All Rights Reserved.</p>
    </div>

    <script>
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const targetId = this.getAttribute("href").substring(1);
          const targetElement = document.getElementById(targetId);
          if (targetElement) {
            window.scrollTo({
              top: targetElement.offsetTop,
              behavior: "smooth",
            });
          }
        });
      });
    </script>

    <script src="assets/data/js/jquery-3.3.1.slim.min.js"></script>
    <script src="assets/data/js/bootstrap.min.js"></script>
    <script src="assets/data/js/owl.carousel.min.js"></script>
    <script src="assets/data/js/main.js"></script>
    <script src="assets/data/js/youtube.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </body>
</html>
